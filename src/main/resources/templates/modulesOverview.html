<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head
	th:replace="fragments/head :: head(~{this :: title}, ~{}, ~{this :: .custom-script})">
<meta charset="ISO-8859-1">
<title th:text="#{exregSyllabus.overviewTitle}">Insert title here</title>
<script class="custom-script" th:inline="javascript">
    var exRegModules = /*[[${exRegModules}]]*/{};
</script>
<script class="custom-script" src="../static/js/moduleOverview.js"
	th:src="@{/js/moduleOverview.js}"></script>
</head>
<body th:lang="${#locale}">
	<header th:replace="fragments/header :: header"></header>
	<div class="container" id="content">
        <div th:if="${error != null}" class="alert alert-danger" role="alert" th:text="#{exregSyllabus.exregDoesntExist}"></div>
        <th:block th:if="${error == null}">
            <h1 th:text="#{exregSyllabus.overviewTitle}">Modulübersicht</h1>
            <div class="p-3"></div>
    		<table class="table-module-overview">
    			<thead class="text-white">
    				<tr>
    					<th>Sem</th>
    					<th th:text="${exreg.name}"  class="text-center" colspan="30"></th>
    				</tr>
    			</thead>
    			<tfoot class="text-white">
    				<tr>
    					<td>ECTS</td>
    					<td th:each="i : ${#numbers.sequence(1,30)}" th:text="${i}"></td>
    				</tr>
    			</tfoot>
    			<tbody>
    				<tr th:each="i : ${#numbers.sequence(exRegSemester,1)}">
    					<td th:text="${i}"></td>
    					<td th:each="module : ${exRegModules}"
    						th:if="${module.semester} == ${i}" th:id="${module.id}"
    						th:colspan="${module.credits}" class="module"
    						th:style="'background-color: rgb(' + ${module.areaOfStudies.colorRGB} + ');'"
    						th:onmouseover="|this.style.backgroundColor='rgba(${module.areaOfStudies.colorRGB},0.7)';|"
    						th:onmouseout="|this.style.backgroundColor='rgb(${module.areaOfStudies.colorRGB})';|"
    						onclick="showModuleDetails(event);">
    						<p th:text="${module.title}" class=""></p>
    					</td>
    				</tr>
    			</tbody>
    		</table>
        </th:block>
	</div>
</body>
</html>